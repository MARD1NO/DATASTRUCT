队列实质上也是一个操作首先的线性结构

入队，将一个数据添加到队列尾部

出队，从队列头部取一个元素



队列可以用数组实现，也可以用链表实现

由头指针head，尾指针tail

![image-20200228142601645](C:\Users\35952\AppData\Roaming\Typora\typora-user-images\image-20200228142601645.png)

当tail指向数组空间最后一位时， 我们需要进行**数据搬移**

![image-20200228142617384](C:\Users\35952\AppData\Roaming\Typora\typora-user-images\image-20200228142617384.png)

基于链表实现的队列

![image-20200228142638242](C:\Users\35952\AppData\Roaming\Typora\typora-user-images\image-20200228142638242.png)

# 循环队列

![image-20200228142822799](C:\Users\35952\AppData\Roaming\Typora\typora-user-images\image-20200228142822799.png)

当tail在最后一位时候，我们添加元素，tail拉到0而不是8

## 判断队列空还是队列满

队列为空条件: head == tail

队列满的条件：![image-20200228143040732](C:\Users\35952\AppData\Roaming\Typora\typora-user-images\image-20200228143040732.png)

(tail + 1)%n == head

队满的时候tail并不存储元素

# 阻塞队列和并发队列

## 阻塞队列

阻塞队列是在队列基础上添加阻塞操作

当队列为空的时候，从队头取数据会被阻塞

当队列为满的时候，从队尾插入数据会被阻塞

有了以上定义，就是一个生产者-消费者模型



## 并发队列

在阻塞队列基础上加上锁机制



# 线程池

当新的任务请求线程资源时，线程池如何管理？



1. 非阻塞的处理方式，直接拒绝任务请求
2. 阻塞的处理方式，将请求添加到队列



然后队列有数组和链表两种形式

1. 基于链表的队列可以实现一个支持无限排队的无界队列，但是过多的请求排队等待，请求处理的相应时间过长
2. 基于数组的队列，大小有限，超过大小的请求会直接被拒绝。设置一个合理的队列大小很重要，队列太大导致等待的请求太多，队列太小会无法充分利用系统资源



